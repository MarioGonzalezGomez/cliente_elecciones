<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">
    <link href="../static/css/listas.css" th:href="@{/css/listas.css}" rel="stylesheet"/>
    <title>Carmen DTO</title>
</head>
<body>
<script>
    setTimeout(function() {
        $('.alert').fadeOut('fast');
    }, 2000); // Oculta la alerta después de 2 segundos


</script>
<div th:if="${mensaje}">
    <div class="alert alert-success">
        <button type="button" class="close" data-dismiss="alert">×</button>
        <span th:text="${mensaje}"></span>
    </div>
</div>
<p></p>
<div class="row">
    <div class="col-md-9 offset-md-1">
        <div class="d-flex justify-content-between align-items-center">
            <div class="text-start">
                <button type="button" class="btn btn-primary" onclick="location.href='/'">Volver al menú principal
                </button>
            </div>
            <div>
                <button type="button" class="btn btn-success">Entra</button>
                <button type="button" class="btn btn-danger">Sale</button>
            </div>
            <div>
                <button type="button" class="btn btn-secondary"
                        th:onclick="'location.href=\'' + @{'/autonomicas/carmen/' + ${carmen.circunscripcion.codigo} + '/csv'} + '\''">
                    Descargar CSV
                </button>
                <button type="button" class="btn btn-secondary"
                        th:onclick="'location.href=\'' + @{'/autonomicas/carmen/' + ${carmen.circunscripcion.codigo} + '/excel'} + '\''">
                    Descargar Excel
                </button>
            </div>
        </div>
    </div>
</div>
<p></p>
<div class="container">
    <div class="row">
        <div class="col-md-offset-1 col-md-12">
            <div class="panel">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-sm-12 col-xs-12">
                        </div>
                    </div>
                </div>
                <div class="panel-body table-responsive">
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Circunscripción</th>
                            <th>Escaños totales</th>
                            <th>Partidos con escaños</th>
                            <th>Escrutado actual</th>
                            <th>Escrutado anterior</th>
                            <th>Autonomia</th>
                            <th>Provincia</th>
                            <th>Municipio</th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr class="text-uppercase text-success">
                            <td th:text="${carmen.circunscripcion.nombreCircunscripcion}"></td>
                            <td th:text="${carmen.circunscripcion.escanios}"></td>
                            <td th:text="${carmen.numPartidos}"></td>
                            <td th:text="${carmen.circunscripcion.escrutado}"></td>
                            <td>Sin datos</td>
                            <td th:text="${carmen.circunscripcion.codigoComunidad}"></td>
                            <td th:text="${carmen.circunscripcion.codigoProvincia}"></td>
                            <td th:text="${carmen.circunscripcion.codigoMunicipio}"></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <th>Partido</th>
                            <th>Código Padre</th>
                            <th>Escaños desde</th>
                            <th>Escaños hasta</th>
                            <th>Escaños desde (Histórico)</th>
                            <th>Escaños hasta (Histórico)</th>
                            <th>Porcentaje de Voto</th>
                            <th>Porcentaje de Voto (Histórico)</th>
                            <th>Votantes</th>
                            <th>Siglas</th>
                            <th>Literal</th>
                        </tr>
                        <tr th:each="cp : ${carmen.cpDTO}">
                            <td th:text="${cp.codigoPartido}"></td>
                            <td th:text="${cp.codigoPadre}"></td>
                            <td th:text="${cp.escanos_desde}"></td>
                            <td th:text="${cp.escanos_hasta}"></td>
                            <td th:text="${cp.escanos_desde_hist}"></td>
                            <td th:text="${cp.escanos_hasta_hist}"></td>
                            <td th:text="${cp.porcentajeVoto}"></td>
                            <td th:text="${cp.porcentajeVotoHistorico}"></td>
                            <td th:text="${cp.numVotantes}"></td>
                            <td th:text="${cp.siglas}"></td>
                            <td th:text="${cp.literalPartido}"></td>
                        </tr>
                        </tbody>
                    </table>

                    <div class="panel-footer">
                        <div class="row">
                            <div class="col-sm-6 col-xs-6"><b th:text="${#lists.size(carmen.cpDTO)}">25</b>
                                entradas
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script
        src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>
</body>
</html>